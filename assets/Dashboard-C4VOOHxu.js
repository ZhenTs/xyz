import{_ as O}from"./xiaoyugan-Dwisk7G8.js";import{d as D,c,o as a,a as e,u as Q,e as R,r as B,A as N,g as G,v as J,h as t,w as o,m,t as d,j as p,F as w,n as y,B as K,k as b,C,p as W,l as T}from"./index-B2ntl-FI.js";import{A as ee,T as se}from"./ThemeToggle-DbyMvUsb.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as x}from"./CheckmarkCircle-B_50qmqf.js";import{C as j,a as $,b as ne}from"./Time-l48mO-LN.js";import{S as A}from"./Settings-C_A4IUmv.js";import{H as oe}from"./Home-v78Briev.js";const ae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ie=e("path",{d:"M396 432H136c-36.44 0-70.36-12.57-95.51-35.41C14.38 372.88 0 340 0 304c0-36.58 13.39-68.12 38.72-91.22c18.11-16.53 42.22-28.25 69.18-33.87a16 16 0 0 0 11.37-9.15a156.24 156.24 0 0 1 42.05-56C187.76 91.69 220.5 80 256 80a153.57 153.57 0 0 1 107.14 42.9c24.73 23.81 41.5 55.28 49.18 92a16 16 0 0 0 12.12 12.39C470 237.42 512 270.43 512 328c0 33.39-12.24 60.78-35.41 79.23C456.23 423.43 428.37 432 396 432z",fill:"currentColor"},null,-1),ce=[ie],le=D({name:"Cloud",render:function(i,v){return a(),c("svg",ae,ce)}}),re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},de=e("path",{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208s208-93.31 208-208S370.69 48 256 48zm-50.22 116.82C218.45 151.39 236.28 144 256 144s37.39 7.44 50.11 20.94c12.89 13.68 19.16 32.06 17.68 51.82C320.83 256 290.43 288 256 288s-64.89-32-67.79-71.25c-1.47-19.92 4.79-38.36 17.57-51.93zM256 432a175.49 175.49 0 0 1-126-53.22a122.91 122.91 0 0 1 35.14-33.44C190.63 329 222.89 320 256 320s65.37 9 90.83 25.34A122.87 122.87 0 0 1 382 378.78A175.45 175.45 0 0 1 256 432z",fill:"currentColor"},null,-1),ue=[de],H=D({name:"PersonCircle",render:function(i,v){return a(),c("svg",re,ue)}}),_e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},pe=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 144h112v112"},null,-1),me=e("path",{d:"M48 368l121.37-121.37a32 32 0 0 1 45.26 0l50.74 50.74a32 32 0 0 0 45.26 0L448 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ve=[pe,me],he=D({name:"TrendingUp",render:function(i,v){return a(),c("svg",_e,ve)}}),ke={class:"dashboard-page"},ge={class:"dashboard-nav"},fe={class:"nav-container"},we={class:"nav-menu"},ye={class:"nav-user"},be={class:"user-info"},Ce={class:"username"},Te={class:"dashboard-main"},xe={class:"main-container"},$e={class:"welcome-section"},Ae={class:"welcome-content"},De={class:"welcome-text"},Me={class:"welcome-actions"},Se={class:"stats-section"},ze={class:"stats-grid"},Be={class:"stat-content"},Ne={class:"stat-number"},We={class:"stat-label"},je={class:"quick-actions-section"},He={class:"actions-grid"},Le=["onClick"],Ue={class:"action-icon"},Ve={class:"action-content"},qe={class:"recent-activity-section"},Fe={class:"activity-header"},Ie={key:0,class:"activity-list"},Pe={class:"activity-content"},Xe={class:"activity-text"},Ye={class:"activity-time"},Ze={key:1,class:"empty-activity"},Ee={__name:"Dashboard",setup(k){const i=J(),v=Q(),u=R(),g=B([]),L=N(()=>new Date().toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})),U=N(()=>[{id:1,icon:H,label:"游戏Token",value:u.gameTokens.length,change:"+2 本月",changeType:"positive",color:"#18a058"},{id:2,icon:x,label:"已完成任务",value:"156",change:"+12 今日",changeType:"positive",color:"#2080f0"},{id:3,icon:j,label:"节省时间",value:"24.5h",change:"+3.2h 本周",changeType:"positive",color:"#f0a020"},{id:4,icon:he,label:"效率提升",value:"85%",change:"+15% 本月",changeType:"positive",color:"#d03050"}]),V=B([{id:1,icon:$,title:"游戏功能",description:"访问所有游戏功能模块",action:"game-features"},{id:2,icon:ee,title:"添加Token",description:"快速添加新的游戏Token",action:"add-token"},{id:3,icon:x,title:"执行任务",description:"一键执行所有待完成任务",action:"execute-tasks"},{id:4,icon:le,title:"WebSocket测试",description:"测试WebSocket连接和游戏命令",action:"websocket-test"},{id:5,icon:A,title:"系统设置",description:"配置个人偏好和系统选项",action:"open-settings"}]),q=[{label:"个人资料",key:"profile"},{label:"账户设置",key:"settings"},{type:"divider"},{label:"退出登录",key:"logout"}],F=l=>{switch(l){case"profile":i.push("/profile");break;case"settings":i.push("/settings");break;case"logout":u.clearAllTokens(),v.success("已清除所有Token"),i.push("/tokens");break}},M=()=>{var l;console.log("🔘 点击管理Token按钮"),console.log("📊 当前Token状态:",{hasTokens:u.hasTokens,selectedToken:(l=u.selectedToken)==null?void 0:l.name,tokenCount:u.gameTokens.length});try{i.push("/tokens"),console.log("✅ 成功导航到 /tokens")}catch(s){console.error("❌ 导航失败:",s),v.error("导航到Token管理页面失败")}},I=l=>{switch(l.action){case"game-features":i.push("/game-features");break;case"add-token":M();break;case"execute-tasks":i.push("/game-features");break;case"websocket-test":i.push("/websocket-test");break;case"open-settings":i.push("/profile");break}},S=()=>{g.value=[{id:1,type:"success",message:"成功完成日常任务：每日签到",timestamp:Date.now()-30*60*1e3},{id:2,type:"info",message:"添加了新的游戏角色：剑士小明",timestamp:Date.now()-2*60*60*1e3},{id:3,type:"warning",message:"任务执行遇到错误，请检查网络连接",timestamp:Date.now()-4*60*60*1e3}],v.success("活动数据已刷新")},P=l=>{switch(l){case"success":return x;case"warning":return j;case"info":default:return $}},X=l=>{const s=Date.now()-l,r=Math.floor(s/(1e3*60)),_=Math.floor(s/(1e3*60*60)),h=Math.floor(s/(1e3*60*60*24));return h>0?`${h}天前`:_>0?`${_}小时前`:r>0?`${r}分钟前`:"刚刚"};return G(async()=>{if(!u.hasTokens){i.push("/tokens");return}u.initTokenStore(),S()}),(l,s)=>{var z;const r=m("n-icon"),_=m("router-link"),h=m("ChatBubbles"),Y=m("n-avatar"),Z=m("n-dropdown"),f=m("n-button"),E=m("n-empty");return a(),c("div",ke,[e("nav",ge,[e("div",fe,[s[7]||(s[7]=e("div",{class:"nav-brand"},[e("img",{src:O,alt:"XYZW",class:"brand-logo"}),e("span",{class:"brand-text"},"XYZW 控制台")],-1)),e("div",we,[t(_,{to:"/dashboard",class:"nav-item","active-class":"active"},{default:o(()=>[t(r,null,{default:o(()=>[t(p(oe))]),_:1}),s[1]||(s[1]=e("span",null,"首页",-1))]),_:1}),t(_,{to:"/game-features",class:"nav-item","active-class":"active"},{default:o(()=>[t(r,null,{default:o(()=>[t(p($))]),_:1}),s[2]||(s[2]=e("span",null,"游戏功能",-1))]),_:1}),t(_,{to:"/tokens",class:"nav-item","active-class":"active"},{default:o(()=>[t(r,null,{default:o(()=>[t(p(H))]),_:1}),s[3]||(s[3]=e("span",null,"Token管理",-1))]),_:1}),t(_,{to:"/daily-tasks",class:"nav-item","active-class":"active"},{default:o(()=>[t(r,null,{default:o(()=>[t(p(A))]),_:1}),s[4]||(s[4]=e("span",null,"任务管理",-1))]),_:1}),t(_,{to:"/message-test",class:"nav-item","active-class":"active"},{default:o(()=>[t(r,null,{default:o(()=>[t(h)]),_:1}),s[5]||(s[5]=e("span",null,"消息测试",-1))]),_:1}),t(_,{to:"/profile",class:"nav-item","active-class":"active"},{default:o(()=>[t(r,null,{default:o(()=>[t(p(A))]),_:1}),s[6]||(s[6]=e("span",null,"个人设置",-1))]),_:1})]),e("div",ye,[t(se),t(Z,{options:q,onSelect:F},{default:o(()=>{var n;return[e("div",be,[t(Y,{size:"medium","fallback-src":"/icons/xiaoyugan.png"}),e("span",Ce,d(((n=p(u).selectedToken)==null?void 0:n.name)||"未选择Token"),1),t(r,null,{default:o(()=>[t(p(ne))]),_:1})])]}),_:1})])])]),e("main",Te,[e("div",xe,[e("section",$e,[e("div",Ae,[e("div",De,[e("h1",null,"欢迎回来，"+d(((z=p(u).selectedToken)==null?void 0:z.name)||"游戏玩家")+"！",1),e("p",null,"今天是 "+d(L.value)+"，继续您的游戏管理之旅吧",1)]),e("div",Me,[t(f,{type:"primary",size:"large",onClick:s[0]||(s[0]=n=>p(i).push("/game-features"))},{default:o(()=>[...s[8]||(s[8]=[T(" 进入游戏功能 ",-1)])]),_:1}),t(f,{size:"large",onClick:M},{default:o(()=>[...s[9]||(s[9]=[T(" 管理Token ",-1)])]),_:1})])])]),e("section",Se,[e("div",ze,[(a(!0),c(w,null,y(U.value,n=>(a(),c("div",{key:n.id,class:"stat-card"},[e("div",{class:"stat-icon",style:K({color:n.color})},[(a(),b(C(n.icon)))],4),e("div",Be,[e("div",Ne,d(n.value),1),e("div",We,d(n.label),1),e("div",{class:W(["stat-change",n.changeType])},d(n.change),3)])]))),128))])]),e("section",je,[s[10]||(s[10]=e("h2",{class:"section-title"}," 快速操作 ",-1)),e("div",He,[(a(!0),c(w,null,y(V.value,n=>(a(),c("div",{key:n.id,class:"action-card",onClick:Oe=>I(n)},[e("div",Ue,[(a(),b(C(n.icon)))]),e("div",Ve,[e("h3",null,d(n.title),1),e("p",null,d(n.description),1)])],8,Le))),128))])]),e("section",qe,[e("div",Fe,[s[12]||(s[12]=e("h2",{class:"section-title"}," 最近活动 ",-1)),t(f,{text:"",type:"primary",onClick:S},{default:o(()=>[...s[11]||(s[11]=[T(" 刷新 ",-1)])]),_:1})]),g.value.length?(a(),c("div",Ie,[(a(!0),c(w,null,y(g.value,n=>(a(),c("div",{key:n.id,class:"activity-item"},[e("div",{class:W(["activity-icon",n.type])},[(a(),b(C(P(n.type))))],2),e("div",Pe,[e("div",Xe,d(n.message),1),e("div",Ye,d(X(n.timestamp)),1)])]))),128))])):(a(),c("div",Ze,[t(E,{description:"暂无活动记录"})]))])])])])}}},ns=te(Ee,[["__scopeId","data-v-e1403d64"]]);export{ns as default};
